import{j as v,p as f,E as _,c as w,a as e,G as r,s as l,v as i,m as o,H as d,b as c,w as g,q as y,I as b,e as k,o as x,d as h,_ as N}from"./Dv50Am8a.js";const T={class:"login"},V={class:"auth-card"},A={class:"auth-form"},B={class:"form-group"},C={class:"form-group"},K={class:"auth-links"},z=v({__name:"login",setup(E){const{setToken:u}=f(),s=_({username:"",password:""}),p=async()=>{if(!(s.username&&s.password))return;const{data:n}=await y("/api/public/login",{method:"POST",body:s,watch:!1},"$AAhXpOJtaN");if(!n.value?.data?.token)return alert("登录失败!");u(n.value.data.token),alert("登录成功!"),b("/recording")};return(n,t)=>{const m=k;return x(),w("div",T,[e("div",V,[e("form",{onSubmit:t[4]||(t[4]=r(()=>{},["prevent"]))},[e("div",A,[t[8]||(t[8]=e("h3",null,"登录",-1)),e("div",B,[t[5]||(t[5]=e("label",null,"邮箱",-1)),l(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).username=a),placeholder:"输入您的邮箱",onKeydown:t[1]||(t[1]=d(r(()=>{},["prevent"]),["enter"]))},null,544),[[i,o(s).username,void 0,{lazy:!0}]])]),e("div",C,[t[6]||(t[6]=e("label",null,"密码",-1)),l(e("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=a=>o(s).password=a),placeholder:"输入您的密码",onKeydown:t[3]||(t[3]=d(r(()=>{},["prevent"]),["enter"]))},null,544),[[i,o(s).password,void 0,{lazy:!0}]])]),e("button",{type:"button",class:"auth-button",onClick:p},"登录"),e("div",K,[c(m,{to:"/admin/register"},{default:g(()=>t[7]||(t[7]=[h("没有账号？立即注册")])),_:1,__:[7]})])])],32)])])}}}),M=N(z,[["__scopeId","data-v-409a0a98"]]);export{M as default};
