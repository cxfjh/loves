import{j as C,p as S,r as p,z as _,A as b,c as a,a as e,d,t as n,m as i,B as f,F as w,l as L,o as c,n as m,k as h,s as z,C as A,_ as B}from"./Dv50Am8a.js";const N={class:"wish-tree-container"},q={class:"tree-header"},D={class:"wish-count"},V={class:"tree-timeline"},E={class:"node-decoration"},F={key:0,class:"fa-solid fa-seedling"},$={key:1,class:"fa-solid fa-flower"},j={class:"wish-content"},I={class:"wish-title"},M={class:"wish-desc"},P={class:"wish-meta"},G={class:"create-time"},H={class:"status-group"},J={key:0,class:"complete-time"},K=["onClick"],O=C({__name:"aspiration",setup(Q){const{token:v}=S(),g=p(!!v.value),l=p([{title:"学习一门新语言",content:"掌握日常会话和基础语法，最好能一起去当地旅行时用上",createTime:"2024-06-01 12:23",completed:!1},{title:"坚持健身3个月",content:"每周至少3次，每次45分钟，一起练出健康身体",createTime:"2024-07-15 12:23",completed:!0,completeTime:"2024-09-30 18:45"},{title:"阅读12本书",content:"每月阅读一本不同领域的书籍，读完后互相分享感悟",createTime:"2024-08-20 12:23",completed:!1},{title:"学习绘画",content:"能够画出简单的风景和人物，把我们的故事画成画册",createTime:"2024-09-10 12:23",completed:!1}]),u=_(()=>l.value.filter(o=>o.completed).length),k=_(()=>u.value/l.value.length*100),y=()=>new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),T=o=>{if(!(l.value&&l.value[o]))return;l.value[o].completed=!0,l.value[o].completeTime=y(),document.querySelector(`.tree-branch:nth-child(${o+1}) .wish-node`)?.classList.add("complete-animation")};return b(()=>{setTimeout(()=>{document.querySelectorAll(".tree-branch").forEach(o=>o.classList.add("animate-in")),document.querySelector(".trunk-growth")?.classList.add("growing")},100)}),(o,t)=>(c(),a("div",N,[e("div",q,[e("h2",null,[t[0]||(t[0]=d("我们的愿望清单 ")),e("span",D,"(已实现 "+n(i(u))+"/"+n(i(l).length)+")",1)]),t[1]||(t[1]=e("p",{class:"header-desc"},"每一个愿望都像树叶，实现时便会绽放生机",-1))]),e("div",V,[e("div",{class:"tree-trunk",style:f({"--completed-percent":i(k)+"%"})},t[2]||(t[2]=[e("div",{class:"trunk-growth"},null,-1)]),4),(c(!0),a(w,null,L(i(l),(s,r)=>(c(),a("div",{key:r,class:"tree-branch",style:f({"--animation-delay":r*150+"ms"})},[e("div",{class:m(["branch-line",{completed:s.completed}])},null,2),e("div",{class:m(["wish-node",{completed:s.completed}])},[e("div",E,[s.completed?(c(),a("i",$)):(c(),a("i",F))]),e("div",j,[e("h3",I,n(s.title),1),e("p",M,n(s.content),1),e("div",P,[e("span",G,[t[3]||(t[3]=e("i",{class:"fa-solid fa-calendar"},null,-1)),d(" 许下于 "+n(s.createTime),1)]),e("div",H,[z(e("span",{class:m(["status-tag",{completed:s.completed}])},n(s.completed?"已实现":"未实现"),3),[[A,s.completed]]),s.completed?(c(),a("span",J,[t[4]||(t[4]=e("i",{class:"fa-solid fa-check-circle"},null,-1)),d(" 实现于 "+n(s.completeTime),1)])):h("",!0)])]),i(g)&&!s.completed?(c(),a("button",{key:0,onClick:R=>T(r),class:"complete-btn"},t[5]||(t[5]=[e("i",{class:"fa-solid fa-magic"},null,-1),d(" 实现愿望 ")]),8,K)):h("",!0)])],2)],4))),128))])]))}}),W=B(O,[["__scopeId","data-v-1eaa31d5"]]);export{W as default};
